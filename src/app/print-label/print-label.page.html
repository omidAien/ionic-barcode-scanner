<ion-header>
  <ion-toolbar color="secondary">
    <ion-buttons slot="start">
      <ion-back-button text="" defaultHref="/main" (click)="onClickBackButton()"></ion-back-button>
    </ion-buttons>
    <ion-title slot="end" >{{ title }}</ion-title>
  </ion-toolbar>
</ion-header>


<ion-content>

  <div class="barcode-container ion-padding">
    <ion-label>{{ barcodeContainerLabel }}</ion-label>
    <ion-input #barcode (ionChange)="changeInputBarcode()"></ion-input>
  </div>

  <ng-container *ngIf=" (barcodeReaderService.barcodeTrackerResponse$ | async) as barcodeTrackerResponse ">

    <ng-container *ngIf=" !barcodeTrackerResponse.Error.hasError; else NOTVALIDBARCODE ">

      <ion-list >
        <ion-item *ngFor="let item of barcodeTrackerResponse.Barcode">
          <div class="product-attribute-container">
            <div class="product-attribute-label">
              <span>{{ item.Caption }}</span>
            </div>
            <div class="product-attribute-description">
              <span>{{ item.Value }}</span>
            </div>
          </div>
        </ion-item>
      </ion-list>

    </ng-container>

    <ng-template #NOTVALIDBARCODE>
      <span class="ion-margin-horizontal ion-padding-vertical barcode-tracker-message" >
        {{ barcodeTrackerResponse.Error.Message }}
      </span>
    </ng-template>

  </ng-container>

</ion-content>


<ion-footer>

  <ion-toolbar class="ion-padding-horizontal">

    <ion-buttons slot="start">
      <ion-button fill="solid" color="success">
        ارسال
      </ion-button>
    </ion-buttons>

    <ion-item slot="primary">
      <ion-input inputmode="numeric" type="number" placeholder="تعداد" style="text-align: right;background-color: lightgray;"></ion-input>
    </ion-item>

  </ion-toolbar>

</ion-footer>